<ipojo xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="org.apache.felix.ipojo http://felix.apache.org/ipojo/schemas/CURRENT/core.xsd
        org.apache.felix.ipojo.extender http://felix.apache.org/ipojo/schemas/CURRENT/extender-pattern.xsd 
        org.apache.felix.ipojo.handlers.event http://felix.apache.org/ipojo/schemas/CURRENT/event-admin.xsd"
	xmlns="org.apache.felix.ipojo" xmlns:extender="org.apache.felix.ipojo.extender"
	xmlns:ev="org.apache.felix.ipojo.handlers.event">

	<component classname="santeclair.portal.test2.TestModuleUi">

		<requires>
			<callback type="bind" method="bindLogService" />
		</requires>

		<callback transition="validate" method="start" />
		<callback transition="invalidate" method="stop" />

		<properties pid="TestModuleUi" updated="updated">
			<property name=".code" method="setCode" />
			<property name=".name" method="setName" />
			<property name=".displayOrder" method="setDisplayOrder"
				value="100000" />
			<property name=".icon" method="setIcon" />

			<property name=".rolesAllowed" method="setRolesAllowed" />
			<property name=".rolesSeveralInstanceAllowed" method="setRolesSeveralInstanceAllowed" />
			<property name=".rolesOpenOnInitialization" method="setRolesOpenOnInitialization" />
			<property name=".rolesIsCloseable" method="setRolesIsCloseable" />
		</properties>

		<ev:publisher field="publisher" name="TestModuleUiPublisher"
			topics="santeclair/portal/module/ModuleUiFactoryEvent" />

		<ev:subscriber name="portalStarted" callback="portalStarted"
			topics="santeclair/portal" filter="(property.key.event.name=started)" />

	</component>


</ipojo>